@precedence { FeatureName @left, FeatureList }
@top FeatureModel { FeatureName FeatureList}

FeatureList {
    Feature*
}

Feature {
    (FeatureName "{" FeatureType "}"
    (Mandatory | Optional | Alternative | Or) !FeatureList) | String
}

FeatureName {
    String
}

ItemList { list<String>?  }


FeatureType {
    "abstract"
}

Constraint {
    ConstraintExpr*
}

ConstraintExpr {
    FeatureName
    ("|" | "=>" | "&")
    FeatureName
}

@tokens {
  Mandatory { "mandatory" }
  Optional { "optional" }
  Alternative { "alternative" }
  Or { "or" }
  String { '"' char* '"' }
  char { $[\u{20}\u{21}\u{23}-\u{5b}\u{5d}-\u{10ffff}] }
  @precedence { Mandatory, Optional,Alternative, Or ,String }

whitespace { $[ \n\r\t] }
  //spaces after cleanup
}
@skip { whitespace }
list<item> { item* }

@detectDelim